<?xml version="1.0" encoding="utf-8"?>
<SeriableFuncBlock xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
  <Version>6</Version>
  <Info>
    <Version>1.0.0</Version>
    <Author>Vucko</Author>
    <Comment>SCALING FOR 8 CHANNEL ANALOG INPUT CARD</Comment>
    <CreateDate>28.9.2008. 20:35:12</CreateDate>
    <IsSerect>false</IsSerect>
    <CompileType>XD</CompileType>
    <IsEncrypt>false</IsEncrypt>
    <IsValid>false</IsValid>
    <FuncBlockName>AD8</FuncBlockName>
  </Info>
  <SourceCode>/*************************************************************************
   FunctionBlockName:  AD8
   Version:            1.0.0
   Author:             Vucko
   UpdateTime:         28.9.2008. 20:35:12
   Comment:            
			SCALING FOR 8 CHANNEL ANALOG INPUT CARD
**************************************************************************/
void AD8( WORD W , BIT B )
{
float Igrupa20mA; float Igrupa4mA;
float IIgrupa20mA; float IIgrupa4mA;
float EngHi0; float EngLo0; 
float EngHi1; float EngLo1;
float EngHi2; float EngLo2;
float EngHi3; float EngLo3;
float EngHi4; float EngLo4; 
float EngHi5; float EngLo5;
float EngHi6; float EngLo6;
float EngHi7; float EngLo7;
float Scaled0; float Scaled1; float Scaled2; float Scaled3;
float Scaled4; float Scaled5; float Scaled6; float Scaled7;

Igrupa20mA=W[8]; Igrupa4mA=W[9];
IIgrupa20mA=W[10]; IIgrupa4mA=W[11];
EngHi0=W[12]; EngLo0=W[13];
EngHi1=W[14]; EngLo1=W[15];
EngHi2=W[16]; EngLo2=W[17];
EngHi3=W[18]; EngLo3=W[19];
EngHi4=W[20]; EngLo4=W[21];
EngHi5=W[22]; EngLo5=W[23];
EngHi6=W[24]; EngLo6=W[25];
EngHi7=W[26]; EngLo7=W[27];
Scaled0=W[50];Scaled1=W[51];
Scaled2=W[52];Scaled3=W[53];
Scaled4=W[54];Scaled5=W[55];
Scaled6=W[56];Scaled7=W[57];

W[28]=(EngHi0-EngLo0)*((W[0]-Igrupa4mA)/(Igrupa20mA-Igrupa4mA))+EngLo0;
W[29]=(EngHi1-EngLo1)*((W[1]-Igrupa4mA)/(Igrupa20mA-Igrupa4mA))+EngLo1;
W[30]=(EngHi2-EngLo2)*((W[2]-Igrupa4mA)/(Igrupa20mA-Igrupa4mA))+EngLo2;
W[31]=(EngHi3-EngLo3)*((W[3]-Igrupa4mA)/(Igrupa20mA-Igrupa4mA))+EngLo3;
W[32]=(EngHi4-EngLo4)*((W[4]-IIgrupa4mA)/(IIgrupa20mA-IIgrupa4mA))+EngLo4;
W[33]=(EngHi5-EngLo5)*((W[5]-IIgrupa4mA)/(IIgrupa20mA-IIgrupa4mA))+EngLo5;
W[34]=(EngHi6-EngLo6)*((W[6]-IIgrupa4mA)/(IIgrupa20mA-IIgrupa4mA))+EngLo6;
W[35]=(EngHi7-EngLo7)*((W[7]-IIgrupa4mA)/(IIgrupa20mA-IIgrupa4mA))+EngLo7;
W[36]=(Scaled0+W[28]);
W[37]=(Scaled1+W[29]);
W[38]=(Scaled2+W[30]);
W[39]=(Scaled3+W[31]);
W[40]=(Scaled4+W[32]);
W[41]=(Scaled5+W[33]);
W[42]=(Scaled6+W[34]);
W[43]=(Scaled7+W[35]);
if 
}

</SourceCode>
</SeriableFuncBlock>